{
  "version": 3,
  "sources": ["../lib/base.js", "../lib/main.js", "../lib/index.js"],
  "sourcesContent": ["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar dtypes = require( '@stdlib/ndarray-dtypes' );\nvar gsorthp = require( '@stdlib/blas-ext-base-ndarray-gsorthp' );\nvar dsorthp = require( '@stdlib/blas-ext-base-ndarray-dsorthp' );\nvar ssorthp = require( '@stdlib/blas-ext-base-ndarray-ssorthp' );\nvar factory = require( '@stdlib/ndarray-base-nullary-strided1d-dispatch-factory' );\n\n\n// VARIABLES //\n\nvar idtypes0 = dtypes( 'real_and_generic' ); // sortOrder ndarray\nvar odtypes = dtypes( 'real_and_generic' );\nvar table = {\n\t'types': [\n\t\t'float64', // input/output\n\t\t'float32'  // input/output\n\t],\n\t'fcns': [\n\t\tdsorthp,\n\t\tssorthp\n\t],\n\t'default': gsorthp\n};\nvar options = {\n\t'strictTraversalOrder': true\n};\n\n\n// MAIN //\n\n/**\n* Sorts an input ndarray along one or more ndarray dimensions using heapsort.\n*\n* @private\n* @name sorthp\n* @type {Function}\n* @param {ndarray} x - input ndarray\n* @param {ndarray} sortOrder - ndarray containing the sort order\n* @param {Options} [options] - function options\n* @param {IntegerArray} [options.dims] - list of dimensions over which to perform operation\n* @throws {TypeError} first argument must be an ndarray-like object\n* @throws {TypeError} second argument must be an ndarray-like object\n* @throws {TypeError} options argument must be an object\n* @throws {RangeError} dimension indices must not exceed input ndarray bounds\n* @throws {RangeError} number of dimension indices must not exceed the number of input ndarray dimensions\n* @throws {Error} must provide valid options\n* @returns {ndarray} output ndarray\n*\n* @example\n* var Float64Array = require( '@stdlib/array-float64' );\n* var ndarray2array = require( '@stdlib/ndarray-to-array' );\n* var scalar2ndarray = require( '@stdlib/ndarray-from-scalar' );\n* var ndarray = require( '@stdlib/ndarray-ctor' );\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, -3.0, 4.0, -5.0, 6.0 ] );\n*\n* // Define the shape of the input array:\n* var sh = [ 3, 1, 2 ];\n*\n* // Define the array strides:\n* var sx = [ 2, 2, 1 ];\n*\n* // Define the index offset:\n* var ox = 0;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, sh, sx, ox, 'row-major' );\n*\n* // Create an ndarray containing the sort order:\n* var sortOrder = scalar2ndarray( 1.0, {\n*     'dtype': 'float64'\n* });\n*\n* // Perform operation:\n* var out = sorthp( x, sortOrder );\n* // returns <ndarray>\n*\n* var arr = ndarray2array( out );\n* // returns [ [ [ -5.0, -3.0 ] ], [ [ 1.0, 2.0 ] ], [ [ 4.0, 6.0 ] ] ]\n*/\nvar sorthp = factory( table, [ idtypes0 ], odtypes, options );\n\n\n// EXPORTS //\n\nmodule.exports = sorthp;\n", "/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable max-len */\n\n'use strict';\n\n// MODULES //\n\nvar hasOwnProp = require( '@stdlib/assert-has-own-property' );\nvar isNumber = require( '@stdlib/assert-is-number' ).isPrimitive;\nvar isString = require( '@stdlib/assert-is-string' ).isPrimitive;\nvar isndarrayLike = require( '@stdlib/assert-is-ndarray-like' );\nvar isRealFloatingDataType = require( '@stdlib/ndarray-base-assert-is-real-floating-point-data-type' );\nvar isSignedIntegerDataType = require( '@stdlib/ndarray-base-assert-is-signed-integer-data-type' );\nvar broadcastScalar = require( '@stdlib/ndarray-base-broadcast-scalar' );\nvar maybeBroadcastArray = require( '@stdlib/ndarray-base-maybe-broadcast-array' );\nvar nonCoreShape = require( '@stdlib/ndarray-base-complement-shape' );\nvar getDType = require( '@stdlib/ndarray-dtype' );\nvar getShape = require( '@stdlib/ndarray-shape' );\nvar getOrder = require( '@stdlib/ndarray-order' );\nvar format = require( '@stdlib/string-format' );\nvar base = require( './base.js' );\n\n\n// FUNCTIONS //\n\n/**\n* Returns a boolean indicating if a value is a string literal specifying ascending sort order.\n*\n* @private\n* @param {*} value - input value\n* @returns {boolean} boolean result\n*/\nfunction isAscending( value ) {\n\treturn ( value === 'asc' || value === 'ascending' );\n}\n\n/**\n* Returns a boolean indicating if a value is a string literal specifying descending sort order.\n*\n* @private\n* @param {*} value - input value\n* @returns {boolean} boolean result\n*/\nfunction isDescending( value ) {\n\treturn ( value === 'desc' || value === 'descending' );\n}\n\n/**\n* Converts a string literal to a numeric sort order value.\n*\n* @private\n* @param {string} value - input value\n* @throws {TypeError} must provide a supported string\n* @returns {number} sort order\n*/\nfunction string2order( value ) {\n\tif ( isAscending( value ) ) {\n\t\treturn 1;\n\t}\n\tif ( isDescending( value ) ) {\n\t\treturn -1;\n\t}\n\tthrow new TypeError( format( 'invalid argument. Second argument must be a valid sort order. Value: `%s`.', value ) );\n}\n\n/**\n* Normalize a numeric sort order value.\n*\n* ## Notes\n*\n* -   Normalizing numeric sort order values to canonical values `-1`, `+1`, and `0` ensures that we can avoid truncation rounding errors when casting a provided sort order to the data type of the input ndarray.\n*\n* @private\n* @param {number} value - input value\n* @returns {number} normalized value\n*/\nfunction normalizeOrder( value ) {\n\tif ( value < 0 ) {\n\t\treturn -1;\n\t}\n\tif ( value > 0 ) {\n\t\treturn 1;\n\t}\n\treturn value;\n}\n\n\n// MAIN //\n\n/**\n* Sorts an input ndarray along one or more ndarray dimensions using heapsort.\n*\n* @param {ndarrayLike} x - input ndarray\n* @param {(ndarrayLike|number|string)} [sortOrder=1.0] - sort order\n* @param {Options} [options] - function options\n* @param {IntegerArray} [options.dims] - list of dimensions over which to perform operation\n* @throws {TypeError} first argument must be an ndarray-like object\n* @throws {TypeError} sort order argument must be either an ndarray-like object, a numeric value, or a supported string\n* @throws {TypeError} options argument must be an object\n* @throws {RangeError} dimension indices must not exceed input ndarray bounds\n* @throws {RangeError} number of dimension indices must not exceed the number of input ndarray dimensions\n* @throws {Error} must provide valid options\n* @returns {ndarray} output ndarray\n*\n* @example\n* var Float64Array = require( '@stdlib/array-float64' );\n* var ndarray2array = require( '@stdlib/ndarray-to-array' );\n* var ndarray = require( '@stdlib/ndarray-ctor' );\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, -3.0, 4.0, -5.0, 6.0 ] );\n*\n* // Define the shape of the input array:\n* var sh = [ 3, 1, 2 ];\n*\n* // Define the array strides:\n* var sx = [ 2, 2, 1 ];\n*\n* // Define the index offset:\n* var ox = 0;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, sh, sx, ox, 'row-major' );\n*\n* // Perform operation:\n* var out = sorthp( x );\n* // returns <ndarray>\n*\n* var arr = ndarray2array( out );\n* // returns [ [ [ -5.0, -3.0 ] ], [ [ 1.0, 2.0 ] ], [ [ 4.0, 6.0 ] ] ]\n*/\nfunction sorthp( x ) {\n\tvar nargs;\n\tvar isStr;\n\tvar opts;\n\tvar ord;\n\tvar dt;\n\tvar sh;\n\tvar o;\n\n\tnargs = arguments.length;\n\n\t// Resolve input ndarray meta data:\n\tdt = getDType( x );\n\tif ( !isRealFloatingDataType( dt ) && !isSignedIntegerDataType( dt ) ) {\n\t\t// Fallback to \"generic\" only if we cannot safely cast `-1` to the data type of the input ndarray:\n\t\tdt = 'generic';\n\t}\n\tord = getOrder( x );\n\n\t// Case: sorthp( x )\n\tif ( nargs < 2 ) {\n\t\treturn base( x, broadcastScalar( 1, dt, [], ord ) );\n\t}\n\to = arguments[ 1 ];\n\n\t// Case: sorthp( x, ??? )\n\tif ( nargs === 2 ) {\n\t\t// Case: sorthp( x, sortOrder_scalar || sortOrder_string )\n\t\tisStr = isString( o );\n\t\tif ( isStr || isNumber( o ) ) {\n\t\t\treturn base( x, broadcastScalar( ( isStr ) ? string2order( o ) : normalizeOrder( o ), dt, [], ord ) );\n\t\t}\n\t\t// Case: sorthp( x, sortOrder_ndarray )\n\t\tif ( isndarrayLike( o ) ) {\n\t\t\t// As the operation is performed across all dimensions, `o` is assumed to be a zero-dimensional ndarray...\n\t\t\treturn base( x, o );\n\t\t}\n\t\t// Case: sorthp( x, opts )\n\t\topts = o;\n\t\to = 1;\n\n\t\t// Intentionally fall through...\n\t}\n\t// Case: sorthp( x, sortOrder, opts )\n\telse { // nargs > 2\n\t\topts = arguments[ 2 ];\n\t}\n\t// Case: sorthp( x, sortOrder_scalar || sortOrder_string, opts )\n\tisStr = isString( o );\n\tif ( isStr || isNumber( o ) ) {\n\t\tif ( hasOwnProp( opts, 'dims' ) ) {\n\t\t\tsh = nonCoreShape( getShape( x ), opts.dims );\n\t\t} else {\n\t\t\tsh = [];\n\t\t}\n\t\to = broadcastScalar( ( isStr ) ? string2order( o ) : normalizeOrder( o ), dt, sh, getOrder( x ) );\n\t}\n\t// Case: sorthp( x, sortOrder_ndarray, opts )\n\telse if ( isndarrayLike( o ) ) {\n\t\t// When not provided `dims`, the operation is performed across all dimensions and `o` is assumed to be a zero-dimensional ndarray; when `dims` is provided, we need to broadcast `o` to match the shape of the non-core dimensions...\n\t\tif ( hasOwnProp( opts, 'dims' ) ) {\n\t\t\to = maybeBroadcastArray( o, nonCoreShape( getShape( x ), opts.dims ) );\n\t\t}\n\t} else {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must be either an ndarray, a numeric scalar value, or a supported string. Value: `%s`.', o ) );\n\t}\n\treturn base( x, o, opts );\n}\n\n\n// EXPORTS //\n\nmodule.exports = sorthp;\n", "/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Sort an input ndarray along one or more ndarray dimensions using heapsort.\n*\n* @module @stdlib/blas-ext-sorthp\n*\n* @example\n* var Float64Array = require( '@stdlib/array-float64' );\n* var ndarray = require( '@stdlib/ndarray-ctor' );\n* var ndarray2array = require( '@stdlib/ndarray-to-array' );\n* var sorthp = require( '@stdlib/blas-ext-sorthp' );\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, -3.0, 4.0, -5.0, 6.0 ] );\n*\n* // Define the shape of the input array:\n* var sh = [ 3, 1, 2 ];\n*\n* // Define the array strides:\n* var sx = [ 2, 2, 1 ];\n*\n* // Define the index offset:\n* var ox = 0;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, sh, sx, ox, 'row-major' );\n*\n* // Perform operation:\n* var out = sorthp( x );\n* // returns <ndarray>\n*\n* var arr = ndarray2array( out );\n* // returns [ [ [ -5.0, -3.0 ] ], [ [ 1.0, 2.0 ] ], [ [ 4.0, 6.0 ] ] ]\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n"],
  "mappings": "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",
  "names": ["require_base", "__commonJSMin", "exports", "module", "dtypes", "gsorthp", "dsorthp", "ssorthp", "factory", "idtypes0", "odtypes", "table", "options", "sorthp", "require_main", "__commonJSMin", "exports", "module", "hasOwnProp", "isNumber", "isString", "isndarrayLike", "isRealFloatingDataType", "isSignedIntegerDataType", "broadcastScalar", "maybeBroadcastArray", "nonCoreShape", "getDType", "getShape", "getOrder", "format", "base", "isAscending", "value", "isDescending", "string2order", "normalizeOrder", "sorthp", "x", "nargs", "isStr", "opts", "ord", "dt", "sh", "o", "main"]
}
